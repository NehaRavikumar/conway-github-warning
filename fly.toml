# fly.toml app configuration file generated for conway-early-warning on 2025-12-27T03:57:44Z
#
# See https://fly.io/docs/reference/configuration/ for information about how to use this file.
#

app = 'conway-early-warning'
primary_region = 'ord'

[build]

[env]
DB_PATH=/data/app.db
HIGH_TRAFFIC_REPOS=facebook/react,vercel/next.js,actions/checkout
DEV_MODE=true
MAX_WORKFLOW_FETCHES_PER_CYCLE=5
GHOSTACTION_SCORE_THRESHOLD=60
ANTHROPIC_MODEL=claude-3-5-haiku-20241022
REPLAY_FIXTURES=1
WINDOW_MINUTES=15
MIN_REPOS=3
COOLDOWN_MINUTES=0

[mounts]
  source = "data"
  destination = "/data"

[http_service]
  internal_port = 8080
  force_https = true
  auto_stop_machines = 'stop'
  auto_start_machines = true
  min_machines_running = 0
  processes = ['app']

[[vm]]
  memory = '1gb'
  cpu_kind = 'shared'
  cpus = 1
  memory_mb = 1024
